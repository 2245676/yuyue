# Project TODO

## 已完成
- [x] 项目追踪网站基础架构
- [x] 全站汉化
- [x] 升级为全栈架构（数据库+认证）

## 待完成
- [x] 修复 Home.tsx 中的 useAuth 导入问题
- [x] 设计桌位管理数据库表结构
- [x] 创建桌位管理数据库迁移
- [x] 开发桌位管理后端 API（增删改查）
- [x] 开发桌位管理前端界面
- [x] 测试桌位管理功能

## 预约管理功能开发
- [x] 设计预约管理数据库表结构
- [x] 创建预约管理数据库迁移
- [x] 开发预约管理后端 API（增删改查）
- [x] 开发日历式预约视图界面
- [x] 开发预约创建表单
- [x] 开发预约编辑功能
- [x] 开发预约删除功能
- [x] 调整导航菜单（移除展示页面）
- [x] 测试预约管理功能

## 移动端优化
- [x] 优化日历视图的移动端布局（单列显示，更大的触摸区域）
- [x] 添加左右滑动手势切换日期
- [x] 优化预约表单的移动端交互（全屏对话框）
- [x] 优化时间选择器的移动端体验
- [x] 测试移动端功能

## 桌位删除功能修复
- [x] 诊断桌位删除功能问题
- [x] 修复桌位删除功能
- [x] 测试桌位删除功能

## 预约视图重构
- [x] 创建系统配置数据表（营业时间、缓冲时间等）
- [x] 开发系统配置管理API
- [x] 重构日历视图布局（桌号左侧，时间上方）
- [x] 实现分钟级时间精度
- [x] 实现预约缓冲时间功能
- [x] 修复表格拖动触发日期切换的bug
- [x] 测试新布局和功能

## UI美化和功能完善
- [x] 修复桌台创建失败问题
- [x] 开发系统配置管理界面
- [x] 添加预约卡片悬浮提示（tooltip）
- [x] 添加双击空白时间槽快速创建预约
- [x] UI美化：顶部日期导航（圆角背景、左右箭头）
- [x] UI美化：标签页切换（タイムスケジュール/リスト）
- [x] UI美化：底部浮动按钮（蓝绿色、圆角、阴影）
- [x] UI美化：底部导航栏（图标+文字）
- [x] UI美化：预约卡片（橙色渐变、圆角、阴影）
- [x] UI美化：非营业时间显示（灰色斜杠背景）
- [x] 响应式适配：大屏横屏
- [x] 响应式适配：大屏竖屏
- [x] 响应式适配：小屏竖屏
- [x] 测试所有功能和UI

## 紧急修复
- [x] 修复生产环境TypeError: t.split is not a function错误
- [x] 修复预约冲突检查逻辑错误
- [x] 添加所有split()调用的类型保护
- [x] 测试修复后的网站访问
- [ ] 重新发布到生产环境
